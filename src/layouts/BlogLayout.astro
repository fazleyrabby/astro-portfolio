---
import Nav from "./Nav.astro";
import Footer from "./Footer.astro";
import Head from "./Head.astro";
import "../styles/global.css";
import { Image } from "astro:assets";
import moment from "moment";
import ScrollToTop from "@components/ScrollToTop.astro";
import Loader from "@components/Loader.astro";
const { frontmatter } = Astro.props;
---

<html lang="en">
    <Head title={frontmatter.title} />
    <body
        class="bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-900 text-gray-800 dark:text-gray-100 min-h-screen relative overflow-x-hidden bg-fixed"
    >
        <!-- Animated gradient orbs for visual interest -->
        <div class="fixed inset-0 overflow-hidden pointer-events-none -z-10">
            <div
                class="absolute -top-40 -right-40 w-80 h-80 bg-purple-300/30 dark:bg-purple-600/20 rounded-full blur-3xl animate-pulse"
            >
            </div>
            <div
                class="absolute top-1/2 -left-40 w-80 h-80 bg-blue-300/30 dark:bg-blue-600/20 rounded-full blur-3xl animate-pulse"
                style="animation-delay: 1s;"
            >
            </div>
            <div
                class="absolute -bottom-40 right-1/3 w-80 h-80 bg-indigo-300/30 dark:bg-indigo-600/20 rounded-full blur-3xl animate-pulse"
                style="animation-delay: 2s;"
            >
            </div>
        </div>
        <Nav />
        <Loader />
        <div class="flex flex-col h-screen justify-between">
            <div class="container mx-auto w-full py-6">
                <section class="markdown text-center mb-4">
                    {
                        frontmatter.thumbnail && (
                            <Image
                                src={frontmatter.thumbnail}
                                class="object-cover object-left-top w-full lg:h-80"
                                alt={frontmatter.title}
                                width="100"
                                height="100"
                                loading="lazy"
                            />
                        )
                    }

                    <div
                        class="prose dark:prose-invert w-full text-justify mr-0 ml-0 inline"
                    >
                        <div class="text-center">
                            <h2 class="mt-3 mb-0 font-bold font-serif">
                                {frontmatter.title}
                            </h2>
                            <p class="mb-4 text-sm">
                                {
                                    moment(frontmatter.date).format(
                                        "D-MM-Y H:mm:ss",
                                    )
                                }
                            </p>
                        </div>
                        <hr class="my-2" />
                        <slot />
                    </div>
                </section>
            </div>
            <Footer />
        </div>
        <ScrollToTop />
    </body>
</html>
